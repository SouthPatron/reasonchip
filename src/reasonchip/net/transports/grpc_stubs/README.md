# gRPC Stubs

## Overview

This directory contains autogenerated gRPC stub code derived from
ReasonChip protobuf definitions. It provides the protobuf message
classes and gRPC client/server abstractions for ReasonChip service
communication.

## Filesystem Overview

| Location                     | Description                                         |
|-----------------------------|-----------------------------------------------------|
| [reasonchip_pb2.py](./reasonchip_pb2.py)           | Protobuf message classes generated from reasonchip.proto |
| [reasonchip_pb2_grpc.py](./reasonchip_pb2_grpc.py) | gRPC service stubs for client and server interfaces        |

## Onboarding Approach

1. Understand Protocol Buffers (Protobuf) syntax and its Python
   code generation, focusing on message and service definitions.
2. Review `reasonchip.proto` service and message definitions
   (UUID, ReasonChipPacket, ReasonChipService) as the schema for
   communication.
3. Inspect `reasonchip_pb2.py` to see the generated message classes
   implementing the protobuf data structures.
4. Examine `reasonchip_pb2_grpc.py` to understand the construction
   of the gRPC client stub (`ReasonChipServiceStub`) and server
   servicer base (`ReasonChipServiceServicer`).
5. Review how `EstablishConnection` is defined as a bidirectional
   streaming RPC, requiring implementing a generator pattern on the
   server and client sides.
6. Learn about gRPC server registration using
   `add_ReasonChipServiceServicer_to_server`.
7. Understand the version compatibility checks enforcing gRPC
   runtime version alignment.

Familiarity with Python asynchronous generators, gRPC's streaming
concepts, and protobuf serialization is essential.

## Additional Details

- `reasonchip_pb2.py` and `reasonchip_pb2_grpc.py` are fully
  autogenerated; manual modifications will be overwritten.

- The `ReasonChipServiceStub` client exposes `EstablishConnection` as
  a stream-stream RPC, allowing full-duplex message streams.

- The `ReasonChipServiceServicer` is an abstract base to be subclassed
  for service implementation, explicitly requiring
  `EstablishConnection` to be overridden.

- The helper function to add servicers to gRPC servers binds the
  implemented handlers correctly.

- An experimental static class `ReasonChipService` offers an
  alternative API for advanced use cases.

- The included `__init__.py` file marks the directory as a Python
  package and contains licensing information only.

Use this directory to integrate ReasonChip's gRPC communication,
implementing clients or servers by leveraging these generated stubs.